<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
  </head>
  
  <body>
    <header>
      <img src="vitaLogo.png" alt="logo">
      <h1 id="title">Pedido VITA:</h1>
    </header>
      <p id="description">ViTA es vida</p>

    <nav>
      <a href="#" onclick="showContent('vita')">Sobre VITA</a>
      <a href="#" onclick="showContent('productos')">Productos</a>
      <a href="#" onclick="showContent('pedidos')">Pedidos</a>
      <a href="#" onclick="showContent('unirse')">¡Únete!</a>
    </nav>

    <main>
      <div id="vita" class="content active">
        <h2>¿Quiénes somos?</h2>
        <div class="home-content">
          <img src="empresa.jpg" alt="quiénes somos">
          <div class="text">
            <p>Laboratorios ViTA es una empresa farmacéutica con 82 años de vida. Inició sus operaciones en marzo 1936.</p>
            <p>Estamos dedicados a laborar y comercializar productos de salud, belleza y bienestar para la familia boliviana. Comprometidos con la excelencia en el servicio y la calidad, de forma responsable con la sociedad.</p>
            <p>Visite la pagina "Productos" para aprender más sobre los productos que ofrecemos.</p>
            <p>Para enviar un pedido, por favor navege a la pagina "Pedidos".</p>
          </div>
        </div>
      </div>

      <div id="productos" class="content">
        <h2>Productos</h2>
        <div class="productos-imagenes">
          <div class="productos-item">
            <a href="https://vita.com.bo/categoria-producto/vita-farma/">
              <img src="farma.jpg" alt="Farma">
              <h3>ViTA Farma</h3>
            </a>
          </div>
          <div class="productos-item">
            <a href="https://vita.com.bo/categoria-producto/vita-belleza/">
              <img src="belleza.jpg" alt="belleza">
              <h3>ViTA Belleza</h3>
            </a>
          </div>
          <div class="productos-item">
            <a href="https://vita.com.bo/categoria-producto/vita-hogar/">
              <img src="hogar.jpg" alt="hogar">
              <h3>ViTA Hogar</h3>
            </a>
          </div>
        </div>
      </div>

      <div id="pedidos" class="content">
        <h2>Realice su pedido hoy:</h2>
        <h3>¿Aparte de quién sera el pedido?</h3>
        <a href="empresa.html">
          <button>Empresa</button>
        </a>
        <a href="cliente.html">
          <button>Cliente Independiente</button>
        </a>

      </div>

      <div id="unirse" class="content">
        <h2>Inscríbase a nuestro sistema para acceder nuestros precios y conseguir nuestros productos.</h2>
        <h3>Por favor llene su información:</h3>
        <ul>
          <li>Nombre y apelido</li>
          <li>Numero de carnet (su código de usuario sera 'C[numero de carnet]'</li>
        </ul>

        <form>
          <label id="name-label">Nombre: 
            <input id="join-name" type="text" name="name" placeholder="Jaime Rodriguez" required>
          </label>
          <label id="carnet">Número de carnet: 
            <input id="carnet" type="text" name="carnet" size="30" placeholder="12345678" required>
          </label>
          <button id="submit" type="submit">Inscribir</button>
        </form>
      </div>
    </main>

    <script>
      const form = document.querySelector('#unirse form');

      form.addEventListener('submit', function(event) {
        event.preventDefault();

        const fullName = document.getElementById('join-name').value.trim();
        const carnet = document.getElementById('carnet').value.trim();
        const userId = `C${carnet}`;

        if (!fullName || !carnet) {
          alert("Por favor llene todos los campos.");
          return;
        }

        const newUser = {
          name: fullName, 
          id: userId
        };

        let users = JSON.parse(localStorage.getItem('users')) || [];

        //duplicates
        const duplicate = users.find(u => u.id === userId);
        if (duplicate) {
          alert("Este código de usuario ya está registrado.");
          return;
        }

        //add new one
        users.push(newUser);
        localStorage.setItem('users', JSON.stringify(users));

        alert(`¡Gracias por registrarse! Su código de usuario es: ${userId}`);
        form.reset();
      });
      
      function showContent(id) {
        const sections = document.querySelectorAll('.content');
        sections.forEach(section => section.classList.remove('active'));
        const selected = document.getElementById(id);
        if(selected) selected.classList.add('active');
      }
    </script>
  </body>
</html>
